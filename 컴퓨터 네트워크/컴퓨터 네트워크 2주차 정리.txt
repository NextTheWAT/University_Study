2.4 주소지정

1계층에서는 데이터를 구조화하지않음
2계층 - MAC 주소
3계층 - IP 주소

2계층에서 PDU를 프레임이라고 부름
송신 MAC주소 수신 MAC주소로 들어감

TCP/IP에서 사용하는 주소

MAC address : 물리주소(Physical address), L2 주소
 - 링크 상에서 NIC 구별
 - 48bits = OUI cod(24bits) + Serial(24bits)

IP address : 논리주소(Logical address), L3 주소
 - 인터넷상에서 호스트를 구별
 - IPv4 address (32bits) = Network ID (Prefix) + Host ID (Suffix)
   IPv6 address (128bits) (아직까지는 쓰지않음)

Port number : L4 주소
 - Transport 계층에서 상위 응용 Process를 구별
 - 16bits 
 - Well-known Port number : 1023번 이하 포트번호
	인터넷 표준기구에서 웰노운 포트번호 - 공식적으로 포트번호를 고정적으로 할당해둠
 	- Ex. FTP(20,21), SSH(22), Telnet(23), SMTP(25), POP3(110), HTTP(80), HTTPS(443)   12분23초
만약 동일한 IP를 사용한다면 물리적으로 불가능함 IP주소 충돌이 일어난다는 메세지를 받음
MAC 주소는 링크상에서 NIC를 구분하기위한 주소이기 때문에 동일한 주소를 사용할 수 없음 논리적으로는 동일한 MAC
주소를 가지고있을수없음 하지만 있을수도 있다
NIC는 물리주소이고 값이 바뀌지않는다

2.4 주소지정(계속)

 - 물리 주소 (예제 2.3&2.4)
프레임 데이터가 10번에서 87번으로 간다고해보자
28,53번이 받을수는있지만 버려버림
수신 맥 주소를 보고 87번이 동일하니 자기에게 오는것으로 판단해서 받게 됨

 - 논리 주소(예제 2.5)

1. 호스트 A는 목적지 P가 다른 네트워크에 있다는 사실을 어떻게 알았을까
	센더 입장에서 다르다는것을 그림을 보면 쉽게 알수 있지만 컴퓨터에서는 어떻게 알까
	P가 만약 로컬 네트워크에 있었다면 라우터를 지나지 않았을것
	IP주소가 목적지IP와 호스트IP가 동일한 네트워크 ID를 가졌을것
	만약 달랐다면 달랐을것 이걸 보고 목적지가 다른 네트워크에 있음으로
	라우터를 통해서 가야겠다 라고 알게된것
2. P라는 주소를 어떻게 알았을까
	우리가 일반적으로 인터넷으로 패킷을 전송할때 IP주소를 알아야하는데
	일반적으로는 도메인 메인 서비스에 의해서 알게 된다
3. 라우터 1에 IP주소인 헤프는 어떻게 알았을까요
	센더 A입장에서 라우터는 다른 네트워크로 나가는 입구인 것을 알고있음
4. 호스트A는 F의 맥 주소인 20번이라고 하는 주소를 어떻게 알았을까요
	나중에 ARP라는 프로토콜에 의해서 IP주소를 찾아오게 됨

 - 논리 주소(계속) 30분 중요중요



제 3장 기반 기술

3.0 전송매체
3.1 유선 근거리 통신망
3.2 무선 LAN
3.3 점-대-점 광역 통신망
3.4 연결 장치


(1) 꼬임선 (twisted pair) : 평형 쌍 케이블 이라고도 부름
 - UTP : Unshielded Twisted Pair (비차폐 꼬임선)
 - STP : Shielses Twisted Pair (차폐 꼬임선)(UTP보다 전자기장에 더 차폐시키기 위한것)

(2) 동축 케이블 (coaxial cable)
 - Tine Cable : 직경 5mm
 - Think Cable : 직경 10mm (옐로우 케이블 이라고도 불림)

(3) 광섬유 (fiber optics)
가장 빠른 속도로 시그널을 전송할 수 있는 매체 하지만 가격은 비쌈

UTP 케이블 등급
 - EIA에서 품질에 따라 등급을 규정하는 표준개발
	- 범주 1(Category 1) : 전화시스템에 사용
	- 범주 2(Category 2) : 4MHZ까지 요구되는 디지털 데이터와 음성 전송
	- 범주 3(Category 3) : 16MHZ에서 요구되는 데이터 전송
	- 범주 4(Category 4) : 20MHZ에서 요구되는 데이터 전송
	- 범주 5(Category 5) : 100MHZ에서 요구되는 데이터 전송
요즘시대에는 Category 5를 사용

3.1 유선 근거리 통신망(Wired LAN)
 - 아파트, 빌딩, 캠퍼스 등 제한된 지역의 독립적인 장치들이 서로 통신할 수 있는 데이터통신 시스템
 - 자원공유를 위해 기관내에 있는 컴퓨터 연결 사용
 - 대부분 광역 통신망(WAN)이나 인터넷에 연결 (WAN이 가장 큰 네트워크 이다)
 - LAN 기술
	- 이더넷(Ethernet), 토큰 링(Token Ring), 토큰 버스(Token Bus), FDDI, ATM LAN등   13분
	이더넷 (topology)는 데이터를 잃어버릴 가능성이 있음 보안상 문제가 될수가있음
	토큰 링은 데이터 충돌은 일어나지 않음

이더넷은 최초의 랜 형태의 기술 이더넷을 WAN에 사용하자 해서
그것을 Metro이더넷 으로 불림 하지만 보안상 문제가 될수도 있다 ex) 데이터 충돌, 데이터 잃어버림 등등

네트워크의 종류, 단계 
WAN(Wide Area Network) 한 나라를 커버 가능
MAN(Metropolition Area Network) 한 도시정도 커버 가능
LAN(Local Area Network)
PAN(Personal Area Network) EX) 블루투스, 옆 사람에게 데이터 전송이나 네트워크 등등


IEEE 표준 (I 트리플 E)
이더넷이 IEEE 로 넘어오면서 LLC와 MAC 계층으로 나뉘어졌다는것 알아둬야함

LLC : Logical link control : 802.2
 - Ethernet MAC : 802.3
 - Token ring MAC : 802.5
 - Token bus MAC : 802.4 라고 불림
 - 무선 LAN : 802.11

MAC : Media access control


3.1 유선 LAN(계속)
 - 이더넷 프레임 형식
	- 7개의 필드로 구성
		preamble(7bites) - SFD(1bites) - Destination address(6bites) - 
		Source address(6bites) - Length or type(2bites) - Data and padding(46~1500bites) - CRC(4bites)
	- 확인응답을 제공하지 않으므로 신뢰성 없음
		- 확인응답은 상위계층에서 제공해야 함

Preamble : 56bits of alternating Is and 0s.   7바이트
SFD : Start frame delimiter, flag(10101011)   1바이트
	preamble 을 7바이트를 하고 SFD를 마지막에 11을 넣음
	그래야 Destination 주소를 가기전 마지막 끝 자락을 알수있음

데이터의 길이가 가변적이니 Length 필드로 바뀜 하지만 기존 방식 타입 필드로 사용
IEEE가 정한건 Length 필드이지만 아직도 기존 Type 방식이 많이 사용되어
Length or Type 로 해석을 함 두 필드를 해석해야 하는데
Length/Type 값이 0x0600 이상이면 DIX2.0Type 으로 인식하고,
	           0x0600 미만이면 IEEE 802.3 Length 필드로 인식
값에따라 타입이 바뀜 그게 가장최근 이더넷 방식이다

Data and padding 
1500바이트를 MTU 라고 부름 - 최대 데이터 단위
46바이트가 최소 데이터 단위
46바이트를 맞춰야함 만약 41바이트라고하면 뒤에 000을 계속 붙여서
데이터를 추가함 그것을 Padding 이라고 한다

CRC (FCS (Frame Check Sequence) 라고도 부름)

3.1 유선 LAN (계속)
 - 프레임의 최소 및 최대 길이 제한
	- 최소길이 제한 이유?
충돌이 일어나도 계속 데이터를 보내고 있어야함
왜냐하면 충돌이 일어나도 다시 되돌아와서 재전송을 해야 하기때문
충돌했는데 이미 전송완료라고 한다면 다시 되돌아가서 재전송을 할 수 없기 때문. - 중요 
1. 충돌을 검출할만한 최소 길이를 보장해야하기 때문이다.
	- 최대길이 제한 이유?
		- MTU(Maximum Transmission Unit)
이더넷의 토폴로지 구조부터 생각해야한다 
예를들어 A가 1기가 영화를 다운로드 받는다고 해보자 이더넷 링크를 하나의 프레임으로 다 사용을 한다면
다른 노드들은 그 통로를 사용할수가 없다. 특정 노드에 채널독점을 막기 위함이다!
최대 데이터 양을 정해두지 않으면 램 카드가 저장해 둘수있는 버퍼공간이 정해져있기 때문에 용량의 한계 
1. 채널 독점 방지
2. Buffer - 용량한계 때문 



























