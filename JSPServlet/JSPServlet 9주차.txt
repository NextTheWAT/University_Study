JSPServlet 9주차

12장

세션이란?
세션 사용 목적 및 이해
 상태가 없는 프로토콜인 HTTP에서 상태에 대한 보전을 위해서 사용
 온라인 쇼핑몰에서 사용하는 장바구니에 사용되는 기술
 사용자의 브라우저와 서버 간의 논리적인 연결
 서버가 자신에게 접속한 클라이언트의 정보를 갖고 있는 상태
세션은 서버단에 있고

쿠키란?
쿠키 사용 목적 및 이해
 상태가 없는 프로토콜을 위해 상태를 지속시키기 위한 방법
 세션과는 달리 클라이언트 자신들에게 그 정보를 저장
 쿠키를 읽어서 새로운 클라이언트인지 이전에 요청을 했던 클라이언트 인지를 판단
 클라이언트에 대한 정보가 과자 부스러기처럼 남는다고 해서 쿠키라 불림
쿠키는 클라이언트단에 있다


HTTP 프로토콜에서 상태를 지속시키기 위한 방법
상태 미제공시
 로그인한 후 그 사이트 내에서 로그인한 상태를 계속 가지고 갈 필요 요망
 매번 페이지를 이동할 때마다 사용자의 정보를 계속 물어야 


HTTP 프로토콜에서 상태를 지속시키기 위한 방법
 URL 새로쓰기(URL Rewriting, URL 재작성)
<a href="/ApplicationName/***------>메뉴</a>

 숨겨진 필드(Hidden Form Variable)
<from name="~~
</form>


쿠키를 구현할 수 있는 쿠키 클래스
쿠키 생성(꼬리표 만들기)
Cookie myCookie = new Cookie("CookieName", "What a Delicious Cookie it is!");

쿠키 셋팅(꼬리표에 정보 기록하기)
myCookie.setValuew("Wow!");

쿠키 전달(꼬리표 붙이기)
response.addCookie(myCookie);

쿠키 읽기(꼬리표 읽기)
request.getCookies();
- 이 메소드는 서버단에서 작용
- 쿠키를 확인하기전까지는 처음 들어왔는지 처음이 아닌지 식별 가능

쿠키 수명죽;
cookie.setMaxAge(int expiry);


쿠키를 구현할 수 있는 쿠키 클래스
쿠키생성 과정에 대한 절차
1. 먼저 쿠키를 생성
2. 쿠키에 필요한 설정 예를 들면 쿠키의 유효시간(즉 쿠키의 유통기한을 말하는 것),
	쿠키에 대한 설명 등을 적용, 도메인, 패스, 보안, 새로운 값 설정
3. 클라이언트에 생성된 쿠키를 전송

Cookie 생성 과정
쿠키 생성 				Cookie myCookie = new Cookie(String, String)
생성된 쿠키에 대한 설정 	myCookie.setValue(String)
설정이 완료된 쿠키 전송 	response.addCookie(myCookie)

Cookie 사용 과정
요청에 포함된 쿠키 가져오기 	Cookie[] cookies = request.getCookies()
쿠키 이름을 읽기 			cookies[i].getName()
얻어진 이름을 통해 정보 사용 	cookies[i].getValue()


세션 인터페이스

세션 생성
session.setAttribute("mySession", "Session value");

세션의 유지시간 설정
session.setMaxInactiveInterval(60*5);

세션 속성 삭제
session.removeAttribute("mySession");

세션 삭제
session.invalidata();




prepardstatment 중요함 꼭 알아두기@@@



















