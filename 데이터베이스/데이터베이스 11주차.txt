데이터베이스 11주차


정규화 개요

이상 현상(Anomaly)
• 불필요한 데이터 중복으로 인해 릴레이션에대한 데이터 삽입/수정/삭제 연산을 수행할
	때 발생할 수 있는 부작용
• 삽입 이상(insertion anomaly)
	– 불필요한 정보를 함께 저장하지 않고는 어떤 정보를 저장하는 것이 불가능
• 갱신 이상(update anomaly; 수정 이상)
	– 반복된 데이터 중에 일부만 수정하면 데이터의 불일치(inconsistency)가 발생
• 삭제 이상(deletion anomaly)
	– 유용한 정보를 함께 삭제하지 않고는 어떤 정보를 삭제하는 것이 불가능


정규화
• 이상 현상의 원인
– 관련 없는 속성들을 하나의 릴레이션에 모아두고있기 때문
• 정규화(normalization)
– 릴레이션을 관련 있는 속성들로만 구성되도록 분해하여, 이상 현상이 발생하지 않는 올바른 릴레
	이션으로 만들어 나가는 과정
– 함수적 종속성으로 속성들 간의 관련성을 판단
– 적절하게 정규화된 릴레이션들은 데이터베이스의 유지를 간단하게 함


함수적 종속성
• 릴레이션 내의 모든 튜플에서 하나의 X 값에 대한 Y 값이 항상 하나일 때,
	“X가 Y를 함수적으로 결정한다“ 또는
	“Y가 X에 함수적으로 종속되어 있다”라고 함
– X와 Y는 하나의 릴레이션을 구성하는 속성들의 부분 집합


함수적 종속성
• 속성 자체의 특성과 의미를 기반으로 함수적 종속성을 판단해야 함
– 속성 값은 계속 변할 수 있으므로 현재 릴레
	이션에 포함된 속성 값만으로 판단하면 안됨
• 일반적으로 기본키와 후보키는 릴레이션의 다른 모든 속성들을 함수적으로 결정함
• 기본키나 후보키가 아니어도 다른 속성 값을 유일하게 결정하는 속성은 함수적 종속
	관계에서 결정자가 될 수 있음


함수적 종속성: 완전 vs 부분
• 완전 함수적 종속성(Full FD; FFD)
– 주어진 릴레이션 R에서 속성 집합 Y가 속성 집합
X에 함수적으로 종속하면서,
– 속성 집합 X의 어떠한 진부분 집합에도 함수적으
로 종속하지 않으면,
▪ X 전체에 종속; 일부분에 종속된 것이 아님
– 속성 집합 Y가 속성 집합 X에 완전하게 함수적으
로 종속한다고 말함
▪ X의 일부분에도 함수적으로 종속된 경우, 부분 함수적
종속성(Partial FD; PFD)
– 여기서 속성 집합 X는 두 개 이상의 속성으로 구
성된 집합인 경우임
▪ X가 단일 속성인 경우는 고려 대상이 아님


함수적 종속성: 이행
• 이행 함수적 종속성 (Transitive FD)
– 한 릴레이션의 속성 집합 X, Y, Z에 대해,
𝑋 → 𝑌 ∧ 𝑌 → 𝑍 이면,
“속성 집합 Z가 이행적으로 X에 종속한다”고 함


이행 함수적 종속성
• X가 릴레이션의 기본 키라면 키의 정의에
따라 X→Y와 X→Z가 성립함
• Z가 X외에 Y에도 함수적으로 종속한다면
(Y→Z), 
• Z는 X에 직접 함수적으로 종속하면서 Y를
거쳐서 X에 이행적으로 종속함


함수적 종속성
• 고려할 필요가 없는 함수적 종속 관계
– 결정자와 종속자가 같거나, 결정자가 종속자
를 포함하는 것처럼 당연한 함수 종속 관계는
고려하지 않음


정규형(normal form; NF)
• 릴레이션이 정규화된 정도
• 각 정규형마다 제약조건이 존재
• 정규형의 차수가 높아질수록 요구되는 제
약조건이 많아지고 엄격해짐
• 릴레이션의 특성을 고려해서 적합한 정규
형을 선택


제1정규형(1NF)
• 릴레이션 R의 모든 속성이 원자값(atomic 
value)만을 가짐
– 모든 속성에 반복 그룹이 나타나지 않아야 함

제1정규화
• 방법1: 반복 그룹 속성에 나타나는 집합에
속한 각 값마다 하나의 튜플로 표현

제1정규화
• 방법2: 모든 반복 그룹 속성들을 분리해서
새로운 릴레이션에 넣음. 원래 릴레이션의
기본 키를 새로운 릴레이션에 속성으로 추
가함


제2정규형(2NF)
• 릴레이션 R이 1NF이고,
기본키/후보키에 속하지 않은 모든 속성이
기본키에 완전 함수 종속
– 기본키가 두 개 이상의 속성으로 구성된 경우
에만 1NF가 2NF를 만족하는지 고려할 필요
가 있음
– 즉, 기본키가 한 개의 속성으로 이루어진 릴
레이션이 1NF이면 2NF도 만족함

제2정규화
• 기본키가 아닌 속성들 중에서 기본키 전체
가 아닌 일부 속성에 종속(부분 함수 종속)
된 속성을 찾아 제거(분해)하는 과정


제3정규형(3NF)
• 릴레이션 R이 2NF이고, 키가 아닌 모든 속
성이 기본키에 이행적 함수 종속이 되지
않음
• 제3정규화
– 기본키가 아닌 속성들 중에서 기본키에 직접
종속되지 않고 이행적으로 종속하는 속성을
찾아 제거하는 과정


보이스/코드 정규형(BCNF)
• Boyce/Codd Normal Form
• 릴레이션 R이 3NF이고, 모든 결정자가 후
보 키이어야 함
– 3NF를 만족하는 대부분의 릴레이션들은
BCNF도 만족함
– 하나의 후보 키만을 가진 릴레이션이 3NF를
만족하면 동시에 BCNF도 만족함
• 실제적인 정규화의 목표

BCNF 정규화
• 후보키가 아닌 결정자를 제거하는 과정
• 후보키가 아니면서 결정자 역할을 하는 속
성과 그 결정자에 함수적으로 종속하는 속
성(종속자)을 하나의 릴레이션에 넣음
– 이 릴레이션에서 결정자는 기본 키가 됨
– 기존 릴레이션에 결정자를 남겨서 기본키의
구성요소가 되도록 함. 또한 이 결정자는 새
로운 릴레이션에 대한 외래키 역할도 함







