데이터베이스 10주차


요구사항 분석
• 목적
	– 사용자의 요구사항을 수집하고 분석하여 개발할 DB의 용도 파악
• 결과물
	– 요구사항 명세서
• 주요 작업
	– DB를 실제 사용할 주요 사용자의 범위 결정
	– 사용자가 조직에서 수행하는 업무 분석
▪ 업무에 필요한 데이터가 무엇인가
▪ 그 데이터에 어떤 처리가 필요한가
	– 면담, 설문 조사, 업무 관련 문서 분석 등의 방법을 이용해 요구사항 수집
	– 요구사항 분석 결과를 요구사항 명세서로 작성


요구사항 명세서 – 예
• S대학교 학사 업무 시스템 요구사항
• 학생의 학번, 이름, 주소, 생년월일, 나이 등 개인 정보를 관리한다. 
	학생은 반드시 하나의 전공학과에 속해야 하며, 한 분의 지도교수
	밑에서 전공지도를 받는다. 매 학기마다 강의를 신청하여 수업을듣는다.
• 교내에 개설된 과목에 대하여 과목번호, 과목명, 과목개요 등의
	정보를 관리한다. 그리고 각 과목은 여러 개의 섹션으로 나누어서
	관리한다. 단, 과목에 따라서는 섹션이 없을 수 있다.
• 교수에 대해서는 교수 이름, 교수의 전공 분야, 보유 기술 등에 대한
	정보를 관리한다. 특히, 한 명의 교수가 여러 가지의 보유 기술을
	가질 수 있다. 그리고 교수는 몇 개의 과목을 강의하고, 여러 학생에
	대해 전공지도를 할 수 있다.
• 전공학과에 대해서는 학과명, 학과사무실의 위치, 학과사무실의
	전화번호 등의 정보를 관리한다. 그리고 각 학과의 교수들 중에서 한
	명의 교수에게 학과장을 임명한다.
• 학생은 자신이 듣고 싶은 과목을 수강하기 위해서 수강 신청한다.


개념적 설계
• 요구사항 명세로부터 개념적 스키마를 만들어냄; 개념적 모델링
• 요구사항 분석 결과를 바탕으로 DB에 저장해
	둘 필요가 있다고 판단되는 데이터 요소를 추
	출하고 그들 간의 관계를 파악하여 표현
	– 개체 타입, 속성, 관계 타입 식별
	– 속성의 도메인 결정
	– 키 속성 결정
• 완성된 개념적 스키마는 E-R 다이어그램으로표현


개체 도출
• 개체 후보 풀(pool)과 개체 리스트 준비
• 요구사항 명세서에서 명사를 찾아 표시
	– 대개 개체는 명사형으로 표현됨

• 각 명사에 대해 속성인지 개체인지 분류
	– 개체인 경우: 개체 리스트의 개체명에 기록
	– 속성인 경우: 개체 리스트의 포함속성에 기록
	– 개체 인스턴스인 경우: 소속 개체 타입을 개체명에 기록
		(예: ‘영업부’, ‘개발부’ → ‘부서’)
		– 개체인지 속성인지 불분명: 후보 풀에 기록

• 중복 명사, 유사한 의미의 명사는 하나로통합
	– 고객, 회원 → 회원
• 개체 후보 풀에 있는 명사 재검토
	– 검토하여 개체 리스트에 기록
	– 여전히 불분명하다면 풀에서 제외
▪ 일반적이고 광범위한 의미의 명사는 제외
	• 도출된 개체에 대해 구축될 시스템에서 데
		이터를 관리할 필요가 있는지 재검토

• 개체 명명(naming) 규칙
– 다른 이름과 중복되지 않게
– 지나치게 길지 않게
– 의미 없는 수사는 붙이지 않음: * 관리
– 단수명사 사용
– 현업에서 사용하는 용어 사용
– 약어는 가능하면 사용하지 않음


개체 도출 – 예
• 각 명사에 대해 속성인지 개체인지 분류
– 학생의 학번, 이름, 주소, 생년월일, 나이 등개인 정보를 관리한다.

– 학생은 반드시 하나의 전공학과에 속해야 하
며, 한 분의 지도교수 밑에서 전공지도를 받는다.

•매 학기마다 강의를 신청하여 수업을 듣는다.

• 교내에 개설된 과목에 대하여 과목번호, 과목명, 과목개
요 등의 정보를 관리한다. 그리고 각 과목은 여러 개의
섹션으로 나누어서 관리한다. 단, 과목에 따라서는 섹션
이 없을 수 있다.

• 교수에 대해서는 교수 이름, 교수의 전공 분야, 보유 기술
등에 대한 정보를 관리한다. 특히, 한 명의 교수가 여러 가
지의 보유 기술을 가질 수 있다. 그리고 교수는 몇 개의
과목을 강의하고, 여러 학생에 대해 전공지도를 할 수 있
다.

• 전공학과에 대해서는 학과명, 학과사무실의 위치, 학과사
무실의 전화번호 등의 정보를 관리한다. 그리고 각 학과의
교수들 중에서 한 명의 교수에게 학과장을 임명한다.

•학생은 자신이 듣고 싶은 과목을 수강하기 위해
서 수강 신청한다.

• 중복 명사, 유사한 의미의 명사는 하나로
통합

• 개체 후보 풀에 있는 명사 재검토

• 도출된 개체에 대해 구축될 시스템에서 데
이터를 관리할 필요가 있는지 재검토

• 개체 기술서 작성


관계 설정 – 예
• S대학교 학사 업무 시스템 관계 설정
– 학생은 반드시 하나의 전공학과에 속해야 하
며
– (학생은) 한 분의 지도교수 밑에서 전공지도
를 받는다.

– 각 과목은 여러 개의 섹션으로 나누어서 관리
한다.

– 교수는 몇 개의 과목을 강의하고, 여러 학생
에 대해 전공지도를 할 수 있다.

– 각 학과의 교수들 중에서 한 명의 교수에게
학과장을 임명한다.

– 학생은 자신이 듣고 싶은 과목을 수강하기 위
해서 수강 신청한다


관계 설정
• 매핑 카디널리티와 참여도 결정
• 부모, 자식 관계의 카디널리티
	어떤 개체 A의 정보가 만들어지기 위해서는
	다른 개체 B의 정보를 필요로 하는 관계에 있을 때
	- 개체 B는 개체 A와 관계를 가지며
	- 개체 B는 개체 A의 부모 개체가 된다.


속성 설정
• 키 속성 선정
– 개체에 소속된 인스턴스들을 유일하게 식별할 수 있는 속성
– 현재 시점 뿐만 아니라 미래의 어떤 시점에서도 중복이 있어서는 안됨
• 선정 기준
– 속성 값이 변하지 않아야 함
– 반드시 값이 있어야 함. Null이면 안됨.
– 키 속성이 여러 개일 수 있으나 너무 많은 것은 좋지 않음
– 마땅한 키 속성이 없을 경우: 인위적으로 속성을 \생성 (설계 속성)


속성 설정 – 예

• 다음과 같은 요구사항이 추가됐다고 하자.
	• 교수는 학생에 대해 전공지도를 할 때 학생과의 면담 시간을 관리한다.
• 학과장이 임명된 날은 임명일자로 기록하여 관리한다
– 관계 타입의 속성으로 추가


1단계: 강한 개체 타입 변환
• 각 강한 개체 타입 E에 대해 하나의 릴레이션 R을 생성
• 단순 속성: R에 모두 포함
• 복합 속성: 그 복합 속성을 구성하는 단순 속성들만 R에 포함
• E의 키 속성이 릴레이션 R의 기본키가 됨


2단계: 약한 개체 타입 변환
• ER 스키마에서 주 개체 타입 E를 갖는 각 약한
	(종속) 개체 타입 W에 대하여 릴레이션 R을 생성
• W에 있던 모든 단순 속성: R에 포함
• 주 개체 타입에 해당하는 릴레이션의 기본키: 약
	한 개체 타입에 해당하는 릴레이션에 외래 키로 포함 (식별 관계)
• 약한 개체 타입에 해당하는 릴레이션 R의 기본
	키: 약한 개체 타입의 부분 키와 주 개체 타입에
	해당하는 릴레이션을 참조하는 외래 키의 조합으로 이루어짐 


3단계: 1:1 관계 타입 변환
• 1:1 관계 타입 R에 대하여, R에 참여하는 개체 타
	입에 대응되는 릴레이션 S와 T를 찾음
• 한 릴레이션을 선택하여, 만일 S를 선택했다면 T
	의 기본 키를 S에 외래 키로 포함시킴
• 전체 참여하는 릴레이션을 S의 역할을 하는 릴레이션으로 선택
• 관계 타입 R이 가지고 있는 모든 단순 속성(복합
	속성을 갖고 있는 경우에는 복합 속성을 구성하는
	단순 속성)들을 S에 대응되는 릴레이션에 포함
• 두 개체 타입이 관계 타입 R에 전체 참여할 때는
	두 개체 타입과 관계 타입을 하나의 릴레이션으로
	합치는 방법도 가능


4단계: 1:n 관계 타입 변환
• 1:N 관계 타입 R에 대하여 N측의 참여 개체 타입에 대응되는 릴레이션 S를 찾음
• R에 참여하는 1측의 개체 타입에 대응되는 릴레이션 T
	의 기본 키를 릴레이션 S에 외래 키로 포함시킴
	– N측의 릴레이션 S의 기본 키를 1측의 릴레이션 T에 외래 키로
	포함시키면 속성에 값들의 집합이 들어가거나 정보의 중복이 많이 발생함
• 관계 타입 R이 가지고 있는 모든 단순 속성(복합 속성을
	갖고 있는 경우에는 복합 속성을 구성하는 단순 속성)들
	을 S에 해당하는 릴레이션에 포함시킴


5단계: m:n 관계 타입 변환
• M:N 관계 타입 R에 대해서는 릴레이션 R을 생성함
• 참여 개체 타입에 해당하는 릴레이션들의
	기본 키를 릴레이션 R에 외래 키로 포함시
	키고, 이들의 조합이 릴레이션 R의 기본키가 됨
• 관계 타입 R이 가지고 있는 모든 단순 속
	성(복합 속성을 갖고 있는 경우에는 복합
	속성을 구성하는 단순 속성)들을 릴레이션 R에 포함시킴


6단계: 3진 이상의 관계 타입 변환
• 3진 이상의 각 관계 타입 R에 대하여 릴레이션 R을 생성함
• 관계 타입 R에 참여하는 모든 개체 타입에 대응되는 릴레이션
	들의 기본 키를 릴레이션 R에 외래 키로 포함시킴
• 관계 타입 R이 가지고 있는 모든 단순 속상(복합 속성을 갖고
	있는 경우에는 복합 속성을 구성하는 단순 속성)들을 릴레이
	션 R에 포함시킴
• 일반적으로 외래 키들의 조합이 릴레이션 R의 기본 키가 됨
• 관계 타입 R에 참여하는 개체 타입들의 카디널리티가 1:N:N
	이면 카디널리티가 1인 릴레이션의 기본 키를 참조하는 외래
	키를 제외한 나머지 외래 키들의 모임이 릴레이션 R의 기본키가 됨


7단계: 다중 값 속성 변환
• 각 다중 값 속성에 대해 릴레이션 R을 생성함
• 다중 값 속성에 해당하는 속성을 릴레이션
	에 포함시키고, 
• 다중 값 속성을 속성으로 갖는 개체 타입
	나 관계 타입에 해당하는 릴레이션의 기
	 키를 릴레이션 R에 외래 키로 포함시킴
• 릴레이션의 R의 기본 키는 다중 값 속성과
	래 키의 조합


논리적 설계 – 예
• 1단계: 강한 개체 타입 변환
– 학과(학과명, 사무실위치, 전화번호)
– 교수(교수번호, 이름, 전공분야)
– 학생(학번, 이름, 주소, 생년월일, 나이)
– 과목(과목번호, 과목명, 과목개요)

• 2단계: 약한 개체 타입 변환
– 학과(학과명, 사무실위치, 전화번호)
– 교수(교수번호, 이름, 전공분야)
– 학생(학번, 이름, 주소, 생년월일, 나이)
– 과목(과목번호, 과목명, 과목개요)
– 섹션(과목번호, 섹션번호)
▪ 섹션.과목번호 → 과목.과목번호

• 3단계: 1:1 관계 타입 변환
– 학과(학과명, 사무실위치, 전화번호, 학과장, 
학과장임명일자)
▪ 학과.학과장 → 교수.교수번호
– 교수(교수번호, 이름, 전공분야)
– 학생(학번, 이름, 주소, 생년월일, 나이)
– 과목(과목번호, 과목명, 과목개요)
– 섹션(과목번호, 섹션번호)
▪ 섹션.과목번호 → 과목.과목번호

• 4단계: 1:n 관계 타입 변환
– 학과(학과명, 사무실위치, 전화번호, 학과장, 학과장임
명일자)
▪ 학과.학과장 → 교수.교수번호
– 교수(교수번호, 이름, 전공분야)
– 학생(학번, 이름, 주소, 생년월일, 나이, 전공학과, 지도교수, 면담시간)
▪ 학생.전공학과 → 학과.학과명
▪ 학생.지도교수 → 교수.교수번호
– 과목(과목번호, 과목명, 과목개요, 담당교수)
▪ 과목.담당교수 → 교수.교수번호
– 섹션(과목번호, 섹션번호)
▪ 섹션.과목번호 → 과목.과목번호

• 5단계: m:n 관계 타입 변환
– 학과(학과명, 사무실위치, 전화번호, 학과장, 학과장임명일자)
▪ 학과.학과장 → 교수.교수번호
– 교수(교수번호, 이름, 전공분야)
– 학생(학번, 이름, 주소, 생년월일, 나이, 전공학과, 지도교수, 면담
시간)
▪ 학생.전공학과 → 학과.학과명
▪ 학생.지도교수 → 교수.교수번호
– 과목(과목번호, 과목명, 과목개요, 담당교수)
▪ 과목.담당교수 → 교수.교수번호
– 섹션(과목번호, 섹션번호)
▪ 섹션.과목번호 → 과목.과목번호
– 수강(학번, 과목번호)
▪ 수강.학번 → 학생.학번
▪ 수강.과목번호 → 과목.과목번호

• 7단계: 다중값 속성 변환
– 학과(학과명, 사무실위치, 전화번호, 학과장, 학과장임명일자)
▪ 학과.학과장 → 교수.교수번호
– 교수(교수번호, 이름, 전공분야)
– 학생(학번, 이름, 주소, 생년월일, 나이, 전공학과, 지도교수, 면담시간)
▪ 학생.전공학과 → 학과.학과명
▪ 학생.지도교수 → 교수.교수번호
– 과목(과목번호, 과목명, 과목개요, 담당교수)
▪ 과목.담당교수 → 교수.교수번호
– 섹션(과목번호, 섹션번호)
▪ 섹션.과목번호 → 과목.과목번호
– 수강(학번, 과목번호)
▪ 수강.학번 → 학생.학번
▪ 수강.과목번호 → 과목.과목번호
– 보유기술(교수번호, 보유기술)
▪ 보유기술.교수번호 → 교수.교수번호


논리적 설계
• 개념적 모델과 논리적 모델의 대응관계

개념적 모델(E-R 다이어그램) 		적 모델(관계 모델)
개체 타입 					릴레이션
1:1, 1:n 관계 타입 				외래키
m:n 관계 타입 				릴레이션과 두개의 외래키
3진 이상(n차)의 관계 타입 		릴레이션과 n개의 외래키
단순 속성 					속성
복합 속성 					속성 집합
다중값 속성 					릴레이션과 외래키
키 속성 					기본키


정리
• 개념적 설계
– 개체 도출
– 관계 설정
– 속성 설정
• 논리적 설계
– 1단계: 강한 개체 타입
– 2단계: 약한 개체 타입
– 3단계: 1:1 관계 타입
– 4단계: 1:n 관계 타입
– 5단계: m:n 관계 타입
– 6단계: 3진 이상의 관계 타입
– 7단계: 다중값 속성




